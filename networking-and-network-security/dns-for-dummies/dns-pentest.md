---
description: DNS enumeration, subdomain recon and attacks
---

# DNS Pentest

## Enumeration

### Finding addresses with host command

The `host` command is a DNS lookup utility which can be used to find the IP address associated with a hostname. Host is a simple utility for performing DNS lookups. It is normally used to convert names to IP addresses and vice versa. When no arguments or options are given, host prints a short summary of its command-line arguments and options.

```
host google.com
```

```
google.com has address 142.250.183.14
google.com has IPv6 address 2404:6800:4009:820::200e
google.com mail is handled by 10 smtp.google.com.
```

### Finding SOA&#x20;

We can find the SOA record of a nameserver using **`nslookup`**. Consider google.com as an example:&#x20;

```bash
nslookup -type=soa google.com
```

We get a response specifying the primary name server and associated information:

```bash
Non-authoritative answer:
google.com
	origin = ns1.google.com
	mail addr = dns-admin.google.com
	serial = 526409246
	refresh = 900
	retry = 900
	expire = 1800
	minimum = 60
```

### Basic enum with authoritative answers

**An authoritative answer is a response we get directly from the primary DNS server holding the master copy of the zone file.**  To find the authoritative answer for _google.com,_ we execute a new _nslookup_ query in which we specify the primary name server as _`ns1.google.com`._

```bash
nslookup ns1.google.com
```

Upon executing the command, weâ€™ll get the following response, which gives us the addresses of the authoritative server for the specified domain.

```
Non-authoritative answer:
Name:	ns1.google.com
Address: 216.239.32.10
Name:	ns1.google.com
Address: 2001:4860:4802:32::a
```

## Exploitation

